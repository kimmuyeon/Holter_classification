# 소아 Holter 데이터를 활용한 PSVT Classification 모델 개발

> Holter 데이터는 일반적인 심전도 데이터와 다르게 24시간 정도 되는 길이를 가진 Long-term ECG 데이터입니다. 본 프로젝트는 이를 활용해 빈맥의 일종인 PSVT(Paroxysmal Supraventricular Tachycardia)를 진단하는 모델을 개발합니다.

---

## 1. 프로젝트 개요

24시간 이상 연속으로 기록된 Holter ECG 데이터를 입력받아, 정상 상태와 PSVT 발작 구간을 자동으로 분류하는 딥러닝 기반 분류 모델을 개발합니다.  
- **목표**: 소아 환자의 Holter 데이터를 분석해 PSVT 징후를 조기에 감지  
- **적용 사례**: 장기 모니터링 환자의 진단 보조, 의료진의 주관적 판독 부담 완화  

---

## 2. 데이터 설명 (데이터의 특성상 비공개)

- **원천 데이터**:  
  - 형식: WFDB (`.sig`, `.hea`, `.ann`), HDF5 등  
  - 길이: 평균 24시간 이상 연속 기록  
  - 주파수: 250–500 Hz (채널 및 장비에 따라 상이)  
- **레이블링**:  
  - PSVT 발작 시작/종료 시각 어노테이션 (`.csv`)   

---

## 3. 임베딩 전략 비교

| 전략              | 설명                                                      | 장점                                    | 단점                       |
|-----------------|---------------------------------------------------------|---------------------------------------|--------------------------|
| 10초 단위 임베딩   | 신호를 10초 간격으로 분할 → 각 구간별 임베딩 벡터 생성             | 노이즈 완화, 구간별 문맥 포착 가능             | 길이가 길어지면 정보 손실 우려     |
| 비트(bit) 단위 임베딩 | 신호를 비트 단위(샘플 단위)로 작은 슬라이딩 윈도우 생성 → 임베딩         | 세밀한 시계열 변화 감지, 높은 해상도             | 윈도우 수 증가로 연산량 급증       |

---

## 4. 최종 임베딩 방식

다양한 실험 끝에 **비트 단위 임베딩**을 채택하였습니다.  
- 슬라이딩 창 크기: 1,000 sample (약 2–4초)  
- 스텝 크기(Stride): 500 sample  
- 추출된 윈도우별 특징:  
  - 파형 통계량 (평균, 분산, 최대/최솟값 등)  
  - 스펙트럼 특성 (Short-Time Fourier Transform)  

---

## 5. 모델 아키텍처

1. **입력 블록**  
   - 비트 단위 임베딩 벡터 시퀀스  
2. **특징 추출기**  
   - 1D-CNN 블록 (여러 커널 크기)  
   - BatchNorm → ReLU → MaxPool  
3. **시계열 모델링**  
   - BiLSTM 또는 Transformer Encoder Layer  
4. **분류 헤드**  
   - Fully Connected → Dropout → Sigmoid (이진 분류)  

---

## 6. 실험 및 결과

